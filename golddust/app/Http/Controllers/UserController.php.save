<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
use App\User;

class UserController extends Controller
{
    /**
     * Create a new controller instance.
     *
     * @return void
     */
    public function __construct()
    {
        $this->middleware('auth');
    }

    /**
     * Show the application dashboard.
     *
     * @return \Illuminate\Http\Response
     */
    public function dashboard()
    {
        return view('users.dashboard');
    }

function sortFunction( $a, $b ) {
    return strtotime($a["date"]) - strtotime($b["date"]);
}

    public function messenger()
    {
	// THIS CODE IS TEMPORARY UNTIL I HAVE A FUNCTIONAL PRODUCT
	$s = auth()->user()->sentMessages;
	$r = auth()->user()->recievedMessages;
	$m = array_merge(json_decode($s, true), json_decode($r, true));
	//dd(json_decode($s, true), json_decode($r, true));
	dd($m);

	// USE ROUTE MODEL BINDING TO COMPACT USER MESSAGES
	return view('users.messenger');
    }

    public function proposals()
    {
	return view('users.proposals');
    }

    public function stats()
    {
	return view('users.stats');
    }

    public function tasks()
    {
	return view('users.tasks');
    }
}
